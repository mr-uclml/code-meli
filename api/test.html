<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Page</title>
</head>
<body>
    <div id="content"></div>

    <script>
async function validator(val) {
    var allDigitEqual = ["0000000000", "1111111111", "2222222222", "3333333333", "4444444444", "5555555555", "6666666666", "7777777777", "8888888888", "9999999999"];
    codeMelliPattern = /^([0-9]{10})+$/;
    if (allDigitEqual.indexOf(val) != -1 || !codeMelliPattern.test(val)) {
        return false;
    }

    // Fetch JSON data from the server
    const response = await fetch('/db.json');
    const data = await response.json();

    // Find the city based on the first three digits of the code
    for (const city of data) {
        const firstThreeDigits = city["سه رقم اول کد ملی"];
        if (val.startsWith(firstThreeDigits)) {
            return city["شهر صدور کد ملی"];
        }
    }

    return false; // Return false if no matching city is found
}

    </script>
</body>
</html>
